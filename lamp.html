<!DOCTYPE html>
<!-- SPDX-License-Identifier: Apache-2.0 -->
<!-- 
     Copyright 2019-present Samsung Electronics France SAS, and other contributors

     curl -X PUT -d '{ "Hand": 45 }' https://webthing-iotjs-robot.glitch.me/properties/Hand

  -->
<html lang="en">
<head>
<meta charset="utf-8"/>
<script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
<script src="src/lamp.js"></script>
</head>

<body>
<a-scene>

<a-entity id="foo" lamp="brighness: 45; color: green">
</a-entity>

<a-camera position="1 1 3">
</a-camera>


</a-scene> 
</body>
</html>


<script>

  if (false) {
  setInterval(function() {
    console.log('inteval');
    var el = document.getElementById('foo');
    var angle = Number(new Date());
    el.setAttribute('motor', 'angle', Number(new Date()));
  }, 1000);
  }


  var url = 'https://rzr-webthing-example.glitch.me/properties';

  function update(id, url)
  {
  fetch(url)
  .then( response => { return response.json(); }
  .then( json => {
  for property of Object.keys(json) 
  document.getElementById(id)
  .setAttribute(id, property, json[property]);
  }

  update('foo', $url);
  
  </script>
